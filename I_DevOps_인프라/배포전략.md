# 배포 전략 (Blue-Green, Canary, Rolling)

배포 시 다운타임과 리스크를 최소화하는 다양한 전략을 정리한다.

---

## 1. Blue-Green
- 두 개의 동일한 환경(Blue/Green)을 유지.
- 새 버전을 Green에 배포 → 테스트 → 트래픽 스위칭.
- 롤백이 쉽지만 인프라 비용이 두 배.

## 2. Canary
- 일부 사용자/트래픽에게만 새 버전 제공.
- 지표/에러를 관찰하며 점진적으로 비율 증가.
- Feature Flag, Service Mesh, API Gateway와 연동.

## 3. Rolling Update
- 기존 인스턴스를 순차적으로 교체.
- 대부분의 오케스트레이터(K8s, ECS)에서 기본 전략.
- Health Check 실패 시 자동 롤백 가능.

---

## 4. 체크리스트
- [ ] 배포 전후 모니터링 지표와 Alert를 준비했는가?
- [ ] 롤백 절차(자동/수동)를 문서화했는가?
- [ ] 배포 창/승인 프로세스를 정의했는가?
- [ ] 상태 저장 서비스(DB, 캐시) 변경 시 마이그레이션 전략을 포함했는가?

---

## 5. 실습 아이디어
- **실습 1**: Kubernetes Deployment에서 RollingUpdate/BlueGreen 전략을 설정.
- **실습 2**: Service Mesh/Feature Flag로 Canary 트래픽 비율을 조절.
- **실습 3**: 배포 실패 시 자동 롤백이 작동하는지 시뮬레이션.

