# 정규화 vs 비정규화

데이터 모델링의 핵심은 “중복을 줄여 무결성을 확보하면서도 성능을 확보하는 것”이다. 정규화와 비정규화의 개념과 적용 기준을 정리한다.

---

## 1. 정규화
- **1NF**: 컬럼은 원자값만 포함.
- **2NF**: 부분 함수 종속 제거(복합 키의 일부에만 종속되는 컬럼 제거).
- **3NF**: 이행적 종속 제거(키가 아닌 컬럼이 다른 키가 아닌 컬럼을 결정하지 못하게).
- **BCNF**: 결정자(Determinant)는 반드시 후보 키여야 한다.

### 장점
- 데이터 중복 감소, 무결성 확보, 업데이트/삭제 이상(Anomaly) 방지.

### 단점
- 조인 수 증가 → 읽기 성능 저하.
- 복잡한 리포트/검색에 불리.

---

## 2. 비정규화
- 의도적으로 중복 데이터를 허용해 읽기 성능을 높인다.
- 예: 주문 요약 테이블, 사용자 프로필에 통계 컬럼 포함, JSON 컬럼 사용.

### 고려 사항
- 데이터 일관성을 유지하는 배치/트리거/애플리케이션 로직이 필요.
- 변경 빈도가 낮고 읽기 빈도가 높을 때만 적용.

---

## 3. 선택 기준
- **무결성 vs 성능**: 실시간 거래, 금융 데이터는 정규화를 유지. 분석/피드 조회는 비정규화 허용.
- **조인 비용**: 조인 횟수와 데이터 양이 많으면 비정규화를 검토.
- **팀 역량**: 비정규화를 유지/동기화할 운영 역량이 있는지 확인.

---

## 4. 체크리스트
- [ ] 개념적/논리적 모델링 단계에서 정규화 규칙을 적용했는가?
- [ ] 비정규화한 컬럼에 대한 동기화 전략(트리거, 배치, 이벤트)을 갖고 있는가?
- [ ] 조인 비용/쿼리 계획을 측정해 비정규화 필요성을 수치로 판단했는가?
- [ ] 변경 이력/감사를 위해 원본 데이터를 보존하는가?

---

## 5. 실습 아이디어
- **실습 1**: 동일 데이터를 정규화/비정규화 테이블로 저장하고 읽기/쓰기 성능을 비교.
- **실습 2**: 비정규화된 데이터가 변경될 때 자동으로 동기화하는 트리거를 작성.
- **실습 3**: ERD 도구를 사용해 정규화 과정을 단계별로 시각화.

