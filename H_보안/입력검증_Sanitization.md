# 입력 검증 · Sanitization 가이드

모든 외부 입력은 신뢰할 수 없으므로 검증과 정제(Sanitization)가 필수다.

---

## 1. 입력 검증 원칙
- 허용 목록(Whitelist) 기반 검증.
- 길이, 형식(Regex), 범위 체크.
- 숫자/날짜/이메일 등 타입별 유효성 검사 라이브러리 활용.

## 2. Sanitization
- HTML/JS/CSS 컨텍스트 별 escaping.
- 파일 업로드 시 확장자/ MIME / 바이러스 검사.
- 국제 문자/인코딩 혼동 방지(Unicode normalization).

## 3. 서버/클라이언트 양쪽 검증
- 클라이언트 검증은 UX 개선용, 보안은 반드시 서버에서 처리.

---

## 4. 체크리스트
- [ ] API 계층에서 공통 Validation 모듈을 사용하고 있는가?
- [ ] 입력 실패 시 명확한 에러 응답과 감사 로그를 남기는가?
- [ ] 파일 업로드/이미지 처리 등 위험 구간에 별도 정책을 적용했는가?
- [ ] Sanitization 이후에도 원본 데이터를 별도 보관해야 하는지 검토했는가?

---

## 5. 실습 아이디어
- **실습 1**: Validation 라이브러리(Validator.js, class-validator 등)를 적용해 공통 규칙을 중앙화.
- **실습 2**: 파일 업로드 API에 AV 스캔/확장자 필터를 추가.
- **실습 3**: 다양한 인코딩/유니코드 입력을 Sanitization 후 비교.

