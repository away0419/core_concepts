# 보안 로그 · 감사 트레일 설계

보안 사고를 탐지하고 규제를 준수하려면 세밀한 로그와 감사 트레일이 필요하다.

---

## 1. 수집 대상
- 로그인/로그아웃, MFA 실패, 권한 변경, 민감 데이터 조회, 관리자 기능 사용.
- 시스템 이벤트: 구성 변경, 배포, 시크릿 접근, 백업/복구.

## 2. 로그 내용
- 누가(사용자/서비스/역할), 언제(UTC 타임스탬프), 어디서(IP/Client ID), 무엇을 했는가(행위/파라미터).
- Trace ID, Request ID 포함.
- 변경 전/후 값은 규제/민감도에 따라 마스킹.

## 3. 저장/보존
- WORM(Write Once Read Many) 스토리지 또는 변경 불가능 로그.
- 보관 기간: 규제/정책에 따라 1~7년.
- 무결성 검증(해시, 서명).

---

## 4. 체크리스트
- [ ] 보안 로그 스키마와 필수 필드를 정의했는가?
- [ ] 민감 데이터를 마스킹/익명화하고 있는가?
- [ ] 로그 접근 권한과 보존 정책을 문서화했는가?
- [ ] SIEM/보안 모니터링과 통합했는가?

---

## 5. 실습 아이디어
- **실습 1**: 감사 로그를 구조화해 ELK/SIEM으로 전송하고 알림 규칙 작성.
- **실습 2**: 로그 위변조 탐지를 위해 해시/서명 체계를 구현.
- **실습 3**: 규제(GDPR/ISMS) 요구사항에 맞춰 로그 보존 정책을 설정.

