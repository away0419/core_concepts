# 단일 장애점(SPOF) 제거 전략

SPOF(Single Point Of Failure)는 하나의 컴포넌트가 장애를 일으켰을 때 전체 서비스 중단으로 이어지는 지점을 의미한다. 이 문서는 SPOF를 찾고 제거하는 절차를 안내한다.

---

## 1. SPOF 식별 절차
1. **아키텍처 다이어그램 작성**: 모든 컴포넌트, 외부 의존성, 네트워크 경로를 시각화.
2. **가정 테스트**: “이 장비/서비스가 꺼지면?” 질문을 반복.
3. **실패 모드와 영향 분석(FMEA)**: 장애 시 영향 범위와 복구 시간을 기록.

---

## 2. 일반적인 SPOF 예시
- 단일 DB 마스터, 단일 캐시 노드.
- 한 개의 로드 밸런서 또는 DNS 서버.
- 단일 Region/AZ에만 배포된 서비스.
- 특정 사람/계정에만 의존하는 운영 권한.

---

## 3. 제거 전략
- **중복 구성**: Active-Active/Active-Standby, 멀티 AZ/Region.
- **자동 복구**: 헬스체크, 오토스케일러, Self-healing script.
- **Failover Runbook**: 수동 전환 시 필요한 절차/명령을 문서화.
- **Chaos Engineering**: 정기적으로 장애를 주입해 실제로 복구되는지 검증.

---

## 4. 체크리스트
- [ ] 모든 핵심 컴포넌트에 최소 2개 이상의 인스턴스를 두었는가?
- [ ] DNS/로드밸런서/CI 등 인프라 레벨에도 이중화가 되어 있는가?
- [ ] 사람에 의존한 SPOF(특정 직원만 가능한 작업)가 없는가?
- [ ] 정기적인 DR(Disaster Recovery) 테스트를 수행하는가?

---

## 5. 실습 아이디어
- **실습 1**: 아키텍처 다이어그램에 “X 표시”를 해가며 SPOF 지점을 찾는다.
- **실습 2**: 멀티 AZ 배포를 구성하고 한 AZ를 강제로 종료하는 연습.
- **실습 3**: RDS, Redis 같은 매니지드 서비스의 Auto-failover를 실제로 시험.

