# 페이징 · 필터링 · 에러 응답 규약

일관된 요청/응답 형식은 클라이언트와 서버 모두에게 큰 이득을 준다.

---

## 1. 페이징
- **Offset/Limit**: `GET /items?offset=0&limit=20`
- **Cursor 기반**: `GET /items?cursor=MjAyNS0xMS0yMVQ=`
- 응답에 `total`, `nextCursor`, `hasMore` 등을 포함해 UX 개선.

## 2. 필터링/정렬
- 필터: `GET /orders?status=PAID&from=2025-01-01`
- 정렬: `sort=createdAt,desc`
- 허용된 필터/정렬 목록을 스펙에 명시.

## 3. 에러 응답 규약
```json
{
  "timestamp": "2025-11-21T09:00:00Z",
  "status": 400,
  "code": "INVALID_PARAMETER",
  "message": "status 필드가 잘못되었습니다.",
  "traceId": "abc123"
}
```
- 사용자 메시지 + 개발자 메시지를 분리하거나 로캘 지원.

---

## 4. 체크리스트
- [ ] 페이징 기본값/최대값을 문서화했는가?
- [ ] 필터/정렬 가능한 필드 목록을 제공했는가?
- [ ] 에러 코드 테이블과 메시지를 관리하고 있는가?
- [ ] Trace ID를 에러 응답에 포함해 디버깅을 돕는가?

---

## 5. 실습 아이디어
- **실습 1**: Cursor 기반 페이징을 구현해 오프셋 방식과 성능을 비교.
- **실습 2**: 에러 응답 스펙에 따라 유효성 검사 실패/비즈니스 예외를 정리.
- **실습 3**: 필터/정렬 요청을 자동 검증하는 미들웨어를 작성.

