# 로깅 전략 · 대시보드 설계 · SLI/SLO 정의

관찰성은 단순히 데이터를 수집하는 것에서 끝나지 않는다. 로그 구조화, 대시보드 설계, SLI/SLO 정의까지 이어져야 한다.

---

## 1. 로깅 전략
- **구조화 로그**: JSON 포맷으로 필드를 명확히 정의(서비스명, 환경, Trace ID, 사용자 ID 등).
- **로그 레벨**: DEBUG/INFO/WARN/ERROR/FATAL. 운영에서는 INFO 이상, 디버깅 시 샘플링.
- **PII 보호**: 개인정보/민감 정보를 마스킹하거나 수집하지 않는다.
- **보관 정책**: Hot(Log 분석), Warm(저비용 저장), Cold(장기 보관) 계층화.

## 2. 대시보드 설계
- 서비스 체인별 핵심 지표(요청 수, 지연, 에러율)를 한 화면에 배치.
- 드릴다운 링크로 세부 서비스/인프라 지표 연결.
- 배포 마커, 사건 타임라인 표시.

## 3. SLI/SLO 정의
- **SLI(Service Level Indicator)**: 측정 가능한 지표 (예: 성공 요청 비율, P95 Latency).
- **SLO(Service Level Objective)**: 목표 값 (예: 99.9% 성공률).
- **에러 버짓**: 1 - SLO. Alert는 에러 버짓 소진 속도를 기준으로 설정.

---

## 4. 체크리스트
- [ ] 로그 스키마/필드를 문서화했고, 모든 서비스가 동일 스키마를 따르는가?
- [ ] 대시보드가 팀/제품별로 표준화되어 있는가?
- [ ] SLO가 비즈니스 요구에 맞고 주기적으로 검토되는가?
- [ ] 에러 버짓 정책을 운영 프로세스(배포 중단, 회고 등)에 연결했는가?

---

## 5. 실습 아이디어
- **실습 1**: ELK(Elastic/Kibana)나 Loki/Grafana로 구조화 로그를 수집하고 검색 쿼리를 작성.
- **실습 2**: SLI/SLO를 정의하고, 에러 버짓 소진 속도를 계산하는 대시보드를 제작.
- **실습 3**: 배포 마커를 자동으로 Grafana에 표시해 배포-장애 상관관계를 분석.

