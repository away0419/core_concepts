# 로그 · 메트릭 · 트레이싱 역할 구분

Observability를 구성하는 세 기둥(Log, Metrics, Trace)을 이해하면 어떤 정보를 어디에 남겨야 할지 명확해진다.

---

## 1. 로그(Log)
- 사건 중심, 텍스트 기반, 사람이 읽기 좋은 형태.
- 에러 디버깅, 감사 기록, 사용 패턴 분석에 활용.
- 구조화(JSON)하고, Correlation ID를 포함해 검색성을 높인다.

## 2. 메트릭(Metric)
- 시계열 숫자 데이터.
- CPU, 메모리, 요청 수, 지연, 에러율 등.
- 경보(Alert)의 대부분이 메트릭 기반.

## 3. 트레이싱(Trace)
- 분산 시스템에서 하나의 요청이 지나가는 경로를 시각화.
- Span/Trace ID를 통해 각 서비스의 지연을 파악.
- OpenTelemetry, Jaeger, Zipkin 등을 사용.

---

## 4. 언제 무엇을 쓰나?
- 장애 탐지 → 메트릭 임계치.
- 장애 원인 추적 → 로그 + 트레이스.
- 용량 계획 → 장기 메트릭 분석.

---

## 5. 체크리스트
- [ ] 모든 요청에 Correlation ID/Trace ID를 부여했는가?
- [ ] 로그를 구조화했고 PII 필터링을 적용했는가?
- [ ] 메트릭 이름/라벨 규칙을 표준화했는가?
- [ ] 트레이스采集 비율(Sampling Rate)을 트래픽/비용에 맞게 조정했는가?

---

## 6. 실습 아이디어
- **실습 1**: OpenTelemetry로 로그/메트릭/트레이스를 동시에 수집.
- **실습 2**: 인위적 지연을 추가하고 트레이스에서 병목 구간을 시각화.
- **실습 3**: 구조화 로그와 Kibana/Datadog에서 쿼리를 작성해 이벤트를 분석.

