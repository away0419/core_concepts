# Scale-up vs Scale-out

트래픽 급증 시 “서버 스펙을 올릴까? 인스턴스를 늘릴까?”라는 질문에 답하기 위한 가이드다.

---

## 1. 두 전략 비교

| 구분 | Scale-up (수직 확장) | Scale-out (수평 확장) |
| --- | --- | --- |
| 방식 | 동일 노드의 CPU/RAM/스토리지 증설 | 노드 수를 늘려 부하 분산 |
| 장점 | 구현 쉬움, 데이터 일관성 유지 | 탄력성, 장애 격리, 비용 최적화 |
| 단점 | 하드웨어 한계, 단일 장애점 | 아키텍처 복잡, 데이터 분산 필요 |
| 적용 예 | DB 서버, monolithic 앱의 초기 단계 | stateless 앱 서버, 캐시, 메시지 큐 |

---

## 2. 의사결정 기준
1. **상태 저장 여부**: 상태가 복잡하면 scale-up이 편하고, stateless라면 scale-out이 유리.
2. **트래픽 패턴**: 갑작스러운 스파이크/시즌성 → scale-out + 오토스케일링.
3. **비용 구조**: 일정 부하에선 scale-up이 저렴하지만, 장기적으론 scale-out이 비용 예측이 쉽다.
4. **팀 역량**: 분산 시스템 운영 경험이 없다면 scale-up으로 시간을 확보한 뒤 점진적 전환.

---

## 3. 혼합 전략
- 핵심 데이터베이스는 scale-up + 읽기 복제본(scale-out) 조합.
- 애플리케이션은 stateless scale-out, 캐시는 여러 노드에 파티셔닝.
- 셀 아키텍처(Cell-based Architecture)로 서비스를 여러 독립 영역으로 나눠서 확장.

---

## 4. 체크리스트
- [ ] 현 시스템에서 CPU/RAM/IO/네트워크 중 무엇이 한계에 먼저 도달하는가?
- [ ] 단일 노드 장애 시 전체 서비스에 미치는 영향을 평가했는가?
- [ ] 늘어난 노드 수만큼 설정/배포/모니터링 자동화를 준비했는가?
- [ ] 비용 모델(TCO)과 리드타임(구매 vs 배포)을 비교했는가?

---

## 5. 실습 아이디어
- **실습 1**: 클라우드 인스턴스 크기만 올려(Scale-up) 부하 테스트를 하고, 이후 동일 부하로 인스턴스를 여러 대 띄워(Scale-out) 비교한다.
- **실습 2**: Kubernetes HPA나 AWS ASG를 사용해 오토스케일링 조건을 직접 설정해 본다.
- **실습 3**: 데이터베이스 읽기 복제본을 만들어 읽기 부하를 분산시키는 실습을 진행한다.

