# 확장성·가용성·일관성·내구성·성능·보안 원칙

아키텍처를 설계할 때 “무엇을 최우선으로 지킬 것인가?”를 정해야 한다. 이 문서는 6가지 품질 속성을 이해하고, 실제 서비스에 적용할 수 있도록 정리했다.

---

## 1. 품질 속성 한 눈에 보기

| 속성 | 정의 | 실무 포인트 |
| --- | --- | --- |
| 확장성 | 트래픽 증가에도 서비스가 버틸 수 있는 능력 | 수평/수직 확장, 오토스케일링, 셀 아키텍처 |
| 가용성 | 서비스가 “사용 가능”한 시간 비율 | SLA/SLO, RTO/RPO, 멀티 AZ/Region, 헬스체크 |
| 일관성 | 데이터가 동일한 상태를 유지하는 정도 | 강한/최종 일관성, 트랜잭션 경계, SAGA |
| 내구성 | 데이터를 안전하게 보존하는 능력 | 복제, 백업/스냅샷 주기, 복구 테스트 |
| 성능 | 응답 시간, 처리량 등 시스템 효율 | P95/P99, Latency Budget, 병목 제거 계획 |
| 보안 | 인가되지 않은 접근/변조 방지 | 인증/인가, 비밀 관리, 네트워크 분리, 감사 로그 |

---

## 2. 품질 속성 시나리오 작성법
각 속성별로 “상황-자극-시스템 반응-측정 방법”을 정의하면 설계/검증이 쉬워진다.

예시:
1. **확장성**: “블랙프라이데이 하루 동안 트래픽 10배 증가 → 5분 내 Auto Scaling → 오류율 1% 이하 유지.”
2. **가용성**: “한 AZ가 장애나도 1분 이내에 다른 AZ로 트래픽 전환 → 주문 실패율 0.1% 이하.”
3. **일관성**: “주문과 재고 업데이트는 5초 내 최종 일관성 달성 → 보정 작업 API 제공.”
4. **보안**: “어드민 페이지 접근 시 MFA 필수 → 실패 5회 시 잠금 → 감사 로그 1년 보관.”

---

## 3. 적용 절차
1. **우선순위 선정**: 모든 품질 속성을 동시에 최대로 만들 수는 없다. 사용자/비즈니스 요구에 따라 순위를 매긴다.
2. **지표 설정**: 각 속성별 목표 값을 KPI로 설정(P99 500ms, 가용성 99.9% 등).
3. **설계 & 구현**: 패턴 선택(예: 셀 아키텍처, CQRS, 다중 리전 등) + 자동화(테스트, 모니터링).
4. **검증 & 모니터링**: Chaos Engineering, 성능 테스트, DR 연습으로 실제로 목표를 달성할 수 있는지 확인.
5. **회고 & 개선**: 사고 후 Postmortem에서 품질 속성 관점으로 개선안을 도출.

---

## 4. 학습/실습 아이디어
- **실습 1**: 현재 프로젝트의 품질 속성 우선순위를 팀과 함께 정하고, 표로 문서화한다.
- **실습 2**: 하나의 속성을 의도적으로 낮춰(예: 가용성을 낮추고 비용 절감) 어떤 영향이 있는지 토론한다.
- **실습 3**: Chaos Monkey, Load Test 등을 통해 실제 지표가 목표를 만족하는지 측정한다.

---

## 5. 체크리스트
- [ ] 서비스별로 우선순위가 높은 품질 속성을 정의했는가?
- [ ] 각 속성별 측정 지표와 목표 값을 설정하고 모니터링하는가?
- [ ] 속성 간 트레이드오프(CAP, 비용 vs 성능 등)를 기록했는가?
- [ ] 정기 검증(리뷰, 테스트, 보고) 프로세스를 운영하는가?
- [ ] 사고/장애 후 Postmortem에서 품질 속성 관점으로 개선안을 도출하는가?
- [ ] ADR(Architecture Decision Record) 등으로 의사결정을 문서화하고 공유하는가?

